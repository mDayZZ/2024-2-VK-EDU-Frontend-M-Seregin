##Приложение поддерживает .env 

# API Документация

Примерное описание ручек, и данных получаемых с них, необходимых для работы приложения.
В хэдере запросов передаём токен, по которому пользователь будет идентифицирован
## 1. Получение чатов пользователя

### Метод
`GET /apiService/chats/`
`mockedGetChatsByUserId`



### Описание
Получает список чатов для указанного пользователя.


### Ответ
| Поле                  | Тип данных | Описание                                       |
|-----------------------|------------|------------------------------------------------|
| **id**                | `integer`  | идентификатор чата                             |
| **is_group**          | `boolean`  | флаг, указывающий, является ли чат группой     |
| **created_at**        | `string`   | дата создания чата в формате `YYYY-MM-DD`      |
| **name**              | `string`   | название чата, может быть `null`               |
| **chat_image_url**    | `string`   | URL изображения чата, может быть `null`        |
| **last_message**      | `object`   | последнее сообщение в чате, может быть `null`. |
| **last_message_user** | 'object'   | Пользователь, оставивший последнее сообщение   |
---

## 2. Получение участников чата

### Метод
`GET /apiService/chats/{chatId}/members`

### Описание
Получает массив участников указанного чата, объекты те же, что отдаются в userInfo.

### Параметры
- **chatId**: `integer` (идентификатор чата)

### Ответ
НЕАКТУАЛЬНАЯ ТАБЛИЦА
| Поле        | Тип данных | Описание                                               |
|-------------|------------|--------------------------------------------------------|
| **chat_id** | `integer`  | идентификатор чата                                     |
| **user_id** | `integer`  | идентификатор пользователя                             |
| **role**    | `string`   | роль пользователя в чате, например, `admin` или `user` |

---

## 3. Получение сообщений в чате

### Метод
`GET /apiService/chats/{chatId}/messages`

### Описание
Получает список сообщений в указанном чате.

### Параметры
- **chatId**: `integer` (идентификатор чата)

### Ответ
| Поле                         | Тип данных | Описание                                                     |
|------------------------------|------------|--------------------------------------------------------------|
| **id**                       | `integer`  | идентификатор сообщения                                      |
| **chat_id**                  | `integer`  | идентификатор чата                                           |
| **sender_id**                | `integer`  | идентификатор отправителя                                    |
| **content**                  | `string`   | содержимое сообщения                                         |
| **created_at**               | `string`   | дата и время отправки сообщения в формате `YYYY-MM-DD HH:MM` |
| **sender_username**          | `string`   | имя пользователя отправителя                                 |
| **sender_profile_image_url** | `string`   | URL изображения профиля отправителя                          |

---

## 4. Отправка сообщения

### Метод
`POST /apiService/chats/{chatId}/messages`

### Описание
Отправляет новое сообщение в указанный чат.

### Параметры
- **chatId**: `integer` (идентификатор чата)

### Тело запроса
| Поле          | Тип данных | Описание                  |
|---------------|------------|---------------------------|
| **sender_id** | `integer`  | идентификатор отправителя |
| **content**   | `string`   | содержимое сообщения      |

### Ответ
| Поле                         | Тип данных | Описание                                                             |
|------------------------------|------------|----------------------------------------------------------------------|
| **id**                       | `integer`  | идентификатор сообщения                                              |
| **chat_id**                  | `integer`  | идентификатор чата                                                   |
| **sender_id**                | `integer`  | идентификатор отправителя                                            |
| **content**                  | `string`   | содержимое сообщения                                                 |
| **created_at**               | `string`   | дата и время отправки сообщения в формате `YYYY-MM-DDTHH:MM:SS.sssZ` |
| **sender_profile_image_url** | `string`   | URL изображения профиля отправителя                                  |
| **sender_username**          | `string`   | имя пользователя отправителя                                         |
---

## 5. Информация о чате

### Метод
`POST /apiService/chats/{chatId}`

### Описание
Отправляет информацию о чате.
(mockedGetChatInfoByChatId)

### Параметры
- **chatId**: `integer` (идентификатор чата)

### Тело запроса
| Поле          | Тип данных   | Описание               |
|---------------|--------------|------------------------|
| userId        | `integer`    | id пользователя        |

### Ответ
| Поле                  | Тип данных | Описание                                                        |
|-----------------------|------------|-----------------------------------------------------------------|
| **id**                | `integer`  | идентификатор чата                                              |
| **name**              | `string`   | название чата/имя пользователя                                  |
| **created_at**        | `string`   | дата и время создания чата в формате `YYYY-MM-DDTHH:MM:SS.sssZ` |
| **profile_image_url** | `string`   | URL изображения профиля                                         |
| **is_group**          | `boolean`  | является ли чат групповым?                                      |
| **username**          | `string`   | юзернейм пользователя(Если не чат)                              |
| **status**            | `string`   | статус пользователя (Если чат, то кол-во участников)            |

---


##Структура моковой БД
### users
| Column            | Type                  |
|-------------------|-----------------------|
| id                | Number                |
| username          | String                |
| email             | String                |
| profile_image_url | String                |
| status            | 'online' \| 'offline' |

### messages
| Column      | Type       |
|-------------|------------|
| id          | Number     |
| chat_id     | Number     |
| sender_id   | Number     |
| content     | String     |
| created_at  | String     |

### message_status
| Column     | Type                  |
|------------|-----------------------|
| message_id | Number                |
| user_id    | Number                |
| status     | 'delivered' \| 'read' |
| updated_at | String                |

### chats
| Column         | Type           |
|----------------|----------------|
| id             | Number         |
| is_group       | Boolean        |
| created_at     | String         |
| name           | String \| null |
| chat_image_url | String \| null |

### chat_members
| Column  | Type              |
|---------|-------------------|
| chat_id | Number            |
| user_id | Number            |
| role    | 'user' \| 'admin' |

